<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <!-- This is a wide open CSP declaration. To lock this down for production, see below. -->
    <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src *" />

    <link rel="stylesheet" type="text/css" href="css/index.css" />

    <title>Big Ben Bonger</title>
</head>

<body>

  <div id="cvas" style="width: 310px; height: 321px; position: absolute; top: 0; left: 0;">
      <canvas id="myCanvas" width="310" height="321" style="border: none; position:absolute; left: 0; top: 0;">
      </canvas>
  </div>

                <div id="setupButtonDiv" style="float: right; ">
                <input type="button" class="rounderCorners" id="setup_but" onClick="doSetUp()" style="margin-right: 12px; border: solid 5px #0000aa; z-index: 100;position:relative" />

<img src="img/bb_minute_hand.png" id="mh" style="display:none" />
<img src="img/bb_hour_hand.png" id="hh" style="display:none" />

                </div>
                <div id="setupPanel" style="background-color: rgba(230, 230, 255, 0.95);  margin-left: 8px; z-index: 100;position:absolute; left: 10; top: 10;">

                <table id="setupTable" style="border: none; float: left; font-size: 12px; margin: 8px;">
                  <tr><td align="left" nowrap="nowrap">
                     BONG:&nbsp;<select name="clocker" id="clocker" onChange="changeClock()" style="font-size: 1.1em;"></select>
<!--
                  <input type="radio" name="whichbuttons" onClick="selectBB()" id="bb_but" style="vertical-align: text-bottom">BIG BEN&nbsp;&nbsp;&nbsp;<input type="radio" name="whichbuttons" id="bg_but" onClick="selectBG()" style="vertical-align: text-bottom"><div id="mantleClk" style="margin: 0; padding: 0; display: inline-block"></div>
-->

                  <br /><span style="color: #0000bb"><hr /></span>
                  <input type="checkbox" class="checkers" name="no_phone_mute" id="no_phone_mute" onClick="doPhoneMute()"><div id="bongDuringCall" style="margin: 0; padding: 0; display: inline-block"></div>
                  <br /><br />



                  <input type="checkbox" class="checkers" name="quart" id="Quarter"  onClick="do1545Option()"><div id="15_45_Label" style="margin: 0; padding: 0; display: inline-block"></div><br />
                  <input type="checkbox" class="checkers" name="half" id="Half"  onClick="doHalfHourOption()"><div id="Half_Label" style="margin: 0; padding: 0; display: inline-block"></div><br />
                  <input type="checkbox" class="checkers" name="hhourr" id="Hour-strikes" onClick="doHourStrikeOption()"><div id="Hour_Label" style="margin: 0; padding: 0; display: inline-block"></div>
                  <br /><br /><img  src="img/juk.png" id="spkr" style="margin: 0; padding: 0; height: 20px; width: 20px; margin-right: 0.8em; margin-top: 0px; margin-bottom: -3px;"  /><input type="button" value="   -   " style="font-size: 1em;  border: 1px solid black; margin: 0; padding: 0; margin-right: 8px; margin-top: 0px; padding-top: 4px; padding-bottom: 3px;" onClick="changeVolume('-')" /><progress id="prog" name="prog" value="6" max="13">
                  </progress><input type="button" value="  +  " style="font-size: 1em;  border: 1px solid black; margin: 0; padding: 0; margin-left: 0.8em; padding-top: 4px; margin-right: 1.5em; padding-bottom: 3px;" onClick="changeVolume('+')" />
                  </td></tr>
                  </table>

                </div>

                <div id="goToBottom" style="width: 100%; position: absolute; left: 0; bottom: 65px;">
                  <div id="websiteButtonDiv" style="display: block; margin: auto; width: 250px; position: relative">
                    <input type="button" class="rounderCorners" id="www_but" onClick="goToWWW()" value="  www.BigBenBonger.com  " style="border: solid 4px #b35900; z-index: 100; font-size: 1.5em; background-color: #ffe6cc; color: #b35900; text-decoration: none;" />
                  </div>
                </div>

                <div id="bottomNavBar" style="background-color: black; margin: 0; padding: 0; height: 54px; position: fixed; bottom: 0%; width: 100%; overflow:visible;">
                  <img src="img/help.png" width="30" height="30" id="helpIcon" onClick="doHelp()" style="margin-left: 8px; margin-top: 5px;" />
                  <img id="ximage" name="ximage" src="x.png" width="45" height="45" style="float: right; border: none;  padding: 0; margin-top: 5px; margin-right: 8px;" onClick="confirmExit()" />
                  <img id="minimage" name="minimage" src="img/min.png" width="45" height="45" style="float: right; border: none; margin-top: 5px;" onClick="doGoToBG()" />
                  <div id="clearr" style=" clear: both;"></div>
                </div>


    <script type="text/javascript" src="cordova.js"></script>

    <script type="text/javascript" src="js/index.js"></script>

<!--
    <script type="text/javascript" src="js/pluginUtils.js"></script>
-->

    <script type="text/javascript">
      var src;
      var MASTER_MUTE = false;
      var QUARTER_MUTE = false;
      var HALF_MUTE = false;
      var THREE_QUARTER_MUTE = false;
      var DO_STRIKES = true;
      var MASTER_VOLUME = 0.4;
      var CURRENT_VOLUME = 0.4;
      var loopDelay;
      var loopThread;
      var QUARTER_HOUR_SYNC = false;
      var ORIENT;
      var SIZE;
      var lastVolumePush = "Neither";
      var my_media_TEST = "NOT_RUNNING";
      var my_media_WHICH = "NOT_RUNNING";
      var my_media2;
      var my_media;

      var QUARTER_DING       = "bb_quarter.mp3";
      var HALF_DING          = "bb_half.mp3";
      var THREE_QUARTER_DING = "bb_three-quarter.mp3";
      var HOUR_DING          = "bb_hour.mp3";
      var DING_SELECTION;
      var do24Hr = false;
      var myLang;
      var minerva = false;

      var Timeouter;
      var delayRelease;

      var MAGIC_NUMBER = 0;
      var DUP_EXIT = false;
      var startTimeArray = [];
      var nextUp = 0;
      var firstTimeInBG = true;
      var failSafe = 0;

      var volumes = [0.0, 0.01, 0.02, 0.04, 0.06, 0.08, 0.12, 0.20, 0.30, 0.40, 0.55, 0.70, 0.85, 1.0];

      var dingThread;
      var ctx;
      var lang;
      var XStr;
      var setupIsDisplayed = false;
      var helpText, helpTextTitle, mantleClockText, grandfatherClockText, magdaleneClockText, helpDismissText, quitConfirmText, backgroundNotificationText, optionsInText, optionsOutText, notificationTitle, newYearText, introText;

      var p = window.location.pathname;
      this.root = p.substring(0, p.lastIndexOf('/')) + "/";

      var body = document.getElementsByTagName('body')[0];

      var canvas;
      var ctx;
      var minuteHand;
      var hourHand;
      var xcounter = 0;

      var HOUR_HAND_CORRECTION_FACTOR = 0;
      var permissions;

      function init()   {
        var d = new Date();
        var mins = d.getMinutes();
        var n = d.getHours();
        var delimiter = ":";

        if (do24Hr)   {
          if (localStorage["language"] == "de")   {
            delimiter = ".";
            if (n < 10)   {
              n = "&nbsp;&nbsp;" + n;
            }
          }
          else   {
            if (n < 10)   {
              n = "0" + n;
            }
          }
        }
        else   {
          if (n == 0)   {
            n = 12;
          }
          if (n > 12)   {
            n -= 12;
          }

          if (n < 10)   {
            n = "&nbsp;&nbsp;" + n;
          }
        }

        if (mins < 10)   {
          mins = "0" + mins;
        }
//        document.getElementById("clock").innerHTML = "&nbsp;" + n + delimiter + mins + "&nbsp;";

        var secs = d.getSeconds();
        loopDelay = (60 - secs) * 1000;

// Fix loop creep (I hope)
        loopDelay += 1000;

        doTimeDisplay(d.getHours(), mins);


//        if (cordova.plugins.backgroundMode.isActive())   {
          cordova.plugins.backgroundMode.configure({ text: backgroundNotificationText, resume: true  });
//        }

        clearTimeout(loopThread);
        loopThread = setTimeout(doMainLoop, loopDelay);
      }

      function doMainLoop()   {
        var d = new Date();
        var mins = d.getMinutes();
        var n = d.getHours();
        var delimiter = ":";

        if (firstTimeInBG)   {
          firstTimeInBG = false;
          cordova.plugins.backgroundMode.configure({ text: backgroundNotificationText, resume: true  });
        }

        if (do24Hr)   {
          if (localStorage["language"] == "de")   {
            delimiter = ".";
            if (n < 10)   {
              n = "&nbsp;&nbsp;" + n;
            }
          }
          else   {
            if (n < 10)   {
              n = "0" + n;
            }
          }
        }
        else   {
          if (n == 0)   {
            n = 12;
          }
          if (n > 12)   {
            n -= 12;
          }

          if (n < 10)   {
            n = "&nbsp;&nbsp;" + n;
          }
        }

        if (mins < 10)   {
          mins = "0" + mins;
        }

//        document.getElementById("clock").innerHTML = "&nbsp;" + n + delimiter + mins + "&nbsp;";

        if ((mins == 15) || (mins == 30) || (mins == 45))   {
          playBen(mins);
          init();
        }
        else if (mins == 59)   {
          if (localStorage["ding_selection"] == "bb")   {
            dingThread = setTimeout(function() {
              playBen(0);
              init();
            }, 43000);
          }
          else   {
            dingThread = setTimeout(function() {
              playBen(0);
              init();
            }, 60000);
          }

          doTimeDisplay(d.getHours(), mins);
          loopDelay = 60000;
          clearTimeout(loopThread);
          loopThread = setTimeout(doMainLoop, loopDelay);
        }
        else   {
          doTimeDisplay(d.getHours(), mins);
          loopDelay = 60000;
          clearTimeout(loopThread);
          loopThread = setTimeout(doMainLoop, loopDelay);
        }
      }

      function playBen(x)   {
        var phoneAdjustmentsHaveBeenMade = false;

        if (typeof(my_media) == "object")   {
          my_media.stop();
          my_media.release();
        }

        if (MASTER_MUTE)   {
          if (document.getElementById("no_phone_mute").checked == true)   {
            MASTER_MUTE = false;
            CURRENT_VOLUME = 8;
            phoneAdjustmentsHaveBeenMade = true;
          }
        }

        src = "";

        if ((x == "15") && (! QUARTER_MUTE) && (! MASTER_MUTE))   {
          src = this.root + "audio/" + QUARTER_DING;
        }
        else if ((x == "30") && (! HALF_MUTE) && (! MASTER_MUTE))   {
          src = this.root + "audio/" + HALF_DING;
        }
        else if ((x == "45") && (! THREE_QUARTER_MUTE) && (! MASTER_MUTE))   {
          src = this.root + "audio/" + THREE_QUARTER_DING;
        }
        else if ((x == "00") && (! MASTER_MUTE))   {
          src = this.root + "audio/" + HOUR_DING;

          if (DO_STRIKES)   {
            if (typeof(my_media2) == "object")   {
              my_media2.stop();
              my_media2.release();
            }

            var deela;
            if (DING_SELECTION == "bb")   {
              deela = 15800;
            }
            else if (DING_SELECTION == "gf")   {
              deela = 16000;
            }
            else if (DING_SELECTION == "mg")   {
              deela = 5000;
            }
            else   {
              deela = 13000;
            }

            setTimeout(function()   {
              var d = new Date();
              var n = d.getHours();
              var mins = d.getMinutes();

//  Big Ben starts at XX:59:44.  It is  not impossible that we get here just before the hour change (e.g., XX:59:59.88)
//  This is just a double check that the time has rolled over to the new hour.
//  If not rolled over yet, increment the hour.

              if (mins == 59)   {
                n++;
                if (n == 24)   {
                  n = 0;
                }
              }

              if (n == 0)   {
                n = 12;
              }
              if (n > 12)   {
                n -= 12;
              }

              var inserter;

              inserter = localStorage["ding_selection"] + "_";

              var dingerFile = this.root + "audio/" + inserter + n + ".mp3";
              my_media2 = new Media(dingerFile,
                function () { console.log("playAudio():Audio Success"); },
                ignoreError()
              );

              my_media2.play({ playAudioWhenScreenIsLocked : true });
              my_media2.setVolume(volumes[CURRENT_VOLUME]);

              if (phoneAdjustmentsHaveBeenMade)   {
                phoneAdjustmentsHaveBeenMade = false;
                CURRENT_VOLUME = MASTER_VOLUME;
                MASTER_MUTE = true;
              }
            }, deela);
          }
        }

        if (src != "")   {
          my_media = new Media(src,
            function () { console.log("playAudio():Audio Success"); },
            ignoreError()
          );

          my_media.play({ playAudioWhenScreenIsLocked : true });
          my_media.setVolume(volumes[CURRENT_VOLUME]);
        }

        if ((phoneAdjustmentsHaveBeenMade && x != "00") || (phoneAdjustmentsHaveBeenMade && ! DO_STRIKES && x == "00"))   {
          phoneAdjustmentsHaveBeenMade = false;
          CURRENT_VOLUME = MASTER_VOLUME;
          MASTER_MUTE = true;
        }
      }

      function initializeCanvas()   {
        canvas = document.getElementById("myCanvas");



        ctx = canvas.getContext('2d');

        if (SIZE == "small")   {
          ctx.translate(116, 127);
          minuteHand = document.getElementById("mh");
          hourHand = document.getElementById("hh");
        }
        else   {
          var d2 = new Date();
          var min2 = d2.getMinutes();
          var hr2 = d2.getHours();

          ctx.translate(116, 127);
          minuteHand = new Image();
          minuteHand.onload = function() {
            doTimeDisplay(hr2, min2);
          };
          minuteHand.src = 'img/bigMinuteHand.png';

          hourHand = new Image();
          hourHand.onload = function() {
            doTimeDisplay(hr2, min2);
          };
          hourHand.src = 'img/bigHourHand.png';
        }
      }

      function doTimeDisplay(hrs, minte)   {
        var handPosition;
        var m = parseInt(minte);
        var hourHandPosition;

        if (SIZE == "small")   {
          ctx.clearRect(-116, -127, canvas.width, canvas.height);
        }
        else   {
          ctx.clearRect(-116, -127, canvas.width, canvas.height);
        }

        handPosition = m * 6 * Math.PI / 180;

        ctx.rotate(handPosition);

        if (SIZE == "small")   {
          ctx.drawImage(minuteHand, -13,  -182);
        }
        else   {
          ctx.drawImage(minuteHand, -14,  -177);
        }

        ctx.rotate(handPosition * -1);

        hrs %= 12;

        hourHandPosition = ((hrs * 6 * 5) * Math.PI / 180) + (((m + HOUR_HAND_CORRECTION_FACTOR) * 6 * Math.PI / 180) / 12);
        ctx.rotate(hourHandPosition);

        if (SIZE == "small")   {
          ctx.drawImage(hourHand, -16, -100);
        }
        else   {
          ctx.drawImage(hourHand, -17, -94);
        }

        ctx.rotate(hourHandPosition * -1);



//        ctx.drawImage(minuteHand, -9, -150, 21, 188);

//        handPosition = 5 * 6 * Math.PI / 180;
//        ctx.rotate(handPosition);
//        ctx.drawImage(minuteHand, 67, -70);

      }

      function doSetUp()   {
        var panelStyle = document.getElementById("setupPanel").style;
        var theCheckboxes = document.getElementsByClassName("checkers");
        document.getElementById('setup_but').blur();

        if (! setupIsDisplayed)   {
          setupIsDisplayed = true;
          document.getElementById("setup_but").value = optionsOutText;

          var ratio = window.devicePixelRatio || 1;
          var h = screen.height;

          if (h / ratio > 780)   {
            if (localStorage["language"] == "fr")   {
              panelStyle.width = '450px';
            }
            else if (localStorage["language"] == "pt")   {
              panelStyle.width = '535px';
            }
            else if (localStorage["language"] == "vi")   {
              panelStyle.width = '525px';
            }
            else if (localStorage["language"] == "de")   {
              panelStyle.width = '515px';
            }
            else   {
              panelStyle.width = '455px';
            }

            if ((localStorage["language"] == "ar") || (localStorage["language"] == "hi"))   {
              panelStyle.height = '390px';
            }
            else   {
              panelStyle.height = '380px';
            }

            document.getElementById("Quarter").style.marginTop = "10px";
            document.getElementById("Half").style.marginTop = "8px";
            document.getElementById("Hour-strikes").style.marginTop = "8px";
            document.getElementById("spkr").style.width = "40px";
            document.getElementById("spkr").style.height = "40px";
            document.getElementById("sprk").style.marginBottom = "-8px";
          }
          else   {
            if (localStorage["language"] == "fr") {
              panelStyle.width = '290px';
            }
            else if (localStorage["language"] == "pt")   {
              panelStyle.width = '330px';
            }
            else if (localStorage["language"] == "vi")   {
              panelStyle.width = '315px';
            }
            else if (localStorage["language"] == "de")   {
              panelStyle.width = '297px';
            }
            else   {
              panelStyle.width = '275px';
            }

            if ((localStorage["language"] == "ar") || (localStorage["language"] == "hi"))   {
              panelStyle.height = '240px';
            }
            else   {
              panelStyle.height = '220px';
            }
            document.getElementById("spkr").style.width = "22px";
            document.getElementById("spkr").style.height = "22px";
          }
        }
        else   {
          setupIsDisplayed = false;
          document.getElementById("setup_but").value = optionsInText;
          panelStyle.width = '0px';
        }

        clearTimeout(loopThread);
        init();
      }

      function doClockChange(clk)   {
        DING_SELECTION     = clk;
        localStorage["ding_selection"] = clk;

        if (clk == "mg")   {
          var dingerFile = this.root + "audio/mg_half.mp3";
        }
        else   {
          var dingerFile = this.root + "audio/" + clk + "_quarter.mp3";
        }

        if(my_media_WHICH != "NOT_RUNNING")   {
          clearTimeout(Timeouter);
          my_media_WHICH.stop();
          my_media_WHICH.release();
          my_media_WHICH = "NOT_RUNNING";
        }

        if(my_media_TEST != "NOT_RUNNING")   {
          clearTimeout(delayRelease);
          my_media_TEST.stop();
          my_media_TEST.release();
          my_media_TEST = "NOT_RUNNING";
        }

        my_media_WHICH = new Media(dingerFile,
           function () { console.log("playAudio():Audio Success"); },
           ignoreError()
        );

        my_media_WHICH.play();
        my_media_WHICH.setVolume(volumes[MASTER_VOLUME]);

        var timeoutDelay;

        if (clk == "mg")   {
          timeoutDelay = 3700;
        }
        else if (clk == "bb")   {
          timeoutDelay = 9300;
        }
        else if (clk == "bg")   {
          timeoutDelay = 11000;
        }
        else   {    //gf
          timeoutDelay = 10000;
        }

        Timeouter = setTimeout(function()   {
            my_media_WHICH.stop();
            my_media_WHICH.release();
            my_media_WHICH = "NOT_RUNNING";
          }, timeoutDelay);
      }

      function doHourStrikeOption()   {
        if (DO_STRIKES)   {
          DO_STRIKES = false;
          document.getElementById("Hour-strikes").checked = false;
          localStorage["hour-strikes"] = "no";
        }
        else   {
          DO_STRIKES = true;
          document.getElementById("Hour-strikes").checked = true;
          localStorage["hour-strikes"] = "checked";
        }
      }

      function do1545Option()   {
        if (QUARTER_MUTE)   {
          QUARTER_MUTE = false;
          THREE_QUARTER_MUTE = false;
          document.getElementById("Quarter").checked = true;
          localStorage["quarter"] = "checked";
        }
        else   {
          QUARTER_MUTE = true;
          THREE_QUARTER_MUTE = true;
          document.getElementById("Quarter").checked = false;
          localStorage["quarter"] = "no";
        }
      }

      function doHalfHourOption()   {
        if (HALF_MUTE)   {
          HALF_MUTE = false;
          document.getElementById("Half").checked = true;
          localStorage["half"] = "checked";
        }
        else   {
          HALF_MUTE = true;
          document.getElementById("Half").checked = false;
          localStorage["half"] = "no";
        }
      }

      function doOnOrientationChange()   {
        var ratio = window.devicePixelRatio || 1;
        var h = screen.height;

        if (h / ratio > 780)   {
          body.style.fontSize = "22px";
          SIZE = "big";
        }
        else   {
          body.style.fontSize = "12px";
          SIZE = "small";
        }

        if (screen.height > screen.width) {
          if (SIZE == "small")   {
            if (localStorage["language"] == "ru")   {
              body.style.backgroundImage = 'url(img/bg_ru_pt_sm.jpg)';
            }
            else if (localStorage["language"] == "ar")   {
              body.style.backgroundImage = 'url(img/bg_ar_pt_sm.jpg)';
            }
            else if (localStorage["language"] == "hi")   {
              body.style.backgroundImage = 'url(img/bg_hi_pt_sm.jpg)';
            }
            else if (localStorage["language"] == "ja")   {
              body.style.backgroundImage = 'url(img/bg_ja_pt_sm.jpg)';
            }
            else   {
              body.style.backgroundImage = 'url(img/bg_pt_sm.jpg)';
            }

            document.getElementById("setupButtonDiv").style.position = "fixed";
            document.getElementById("setupButtonDiv").style.top = "286px";
            document.getElementById("setupButtonDiv").style.right = "0px";
          }
          else   {
            if (localStorage["language"] == "ru")   {
              body.style.backgroundImage = 'url(img/bg_ru_pt_lg.jpg)';
            }
            else if (localStorage["language"] == "ar")   {
              body.style.backgroundImage = 'url(img/bg_ar_pt_lg.jpg)';
            }
            else if (localStorage["language"] == "ja")   {
              body.style.backgroundImage = 'url(img/bg_ja_pt_lg.jpg)';
            }
            else if (localStorage["language"] == "hi")   {
              body.style.backgroundImage = 'url(img/bg_hi_pt_lg.jpg)';
            }
            else   {
              body.style.backgroundImage = 'url(img/bg_pt_lg.jpg)';
            }

            document.getElementById("setupButtonDiv").style.position = "relative";
            document.getElementById("setupButtonDiv").style.marginTop = "600px";
          }

          document.getElementById("setup_but").style.marginRight = "10px";
          document.getElementById("setup_but").style.backgroundColor = "#e8e8ff";


          ORIENT = 'portrait';
        }
        else   {
          if (SIZE == "small")   {
            if (localStorage["language"] == "ru")   {
              body.style.backgroundImage = 'url(img/bg_ru_lscape_sm.jpg)';
            }
            else if (localStorage["language"] == "ar")   {
              body.style.backgroundImage = 'url(img/bg_ar_lscape_sm.jpg)';
            }
            else if (localStorage["language"] == "hi")   {
              body.style.backgroundImage = 'url(img/bg_hi_lscape_sm.jpg)';
            }
            else if (localStorage["language"] == "ja")   {
              body.style.backgroundImage = 'url(img/bg_ja_lscape_sm.jpg)';
            }
            else   {
              body.style.backgroundImage = 'url(img/bg_lscape_sm.jpg)';
            }

            document.getElementById("setupButtonDiv").style.position = "fixed";
            document.getElementById("setupButtonDiv").style.top = "230px";
            document.getElementById("setupButtonDiv").style.right = "0px";
          }
          else   {
            if (localStorage["language"] == "ru")   {
              body.style.backgroundImage = 'url(img/bg_ru_lscape_lg.jpg)';
            }
            else if (localStorage["language"] == "ar")   {
              body.style.backgroundImage = 'url(img/bg_ar_lscape_lg.jpg)';
            }
            else if (localStorage["language"] == "hi")   {
              body.style.backgroundImage = 'url(img/bg_hi_lscape_lg.jpg)';
            }
            else if (localStorage["language"] == "ja")   {
              body.style.backgroundImage = 'url(img/bg_ja_lscape_lg.jpg)';
            }
            else   {
              body.style.backgroundImage = 'url(img/bg_lscape_lg.jpg)';
            }

            document.getElementById("setupButtonDiv").style.position = "relative";
            document.getElementById("setupButtonDiv").style.marginTop = "530px";
          }

          document.getElementById("setup_but").style.marginRight = "20px";
          document.getElementById("setup_but").style.backgroundColor = "#e8e8ff";


          ORIENT = 'landscape';
        }
      }

      window.addEventListener('orientationchange', doOnOrientationChange);

      document.addEventListener("deviceready", starter, false);

//     window.onload = setTimeout(function() {starter();}, 2000);


//////////////////////////////////////////////////////
///  STARTER  ////////////////////////////////////////
//////////////////////////////////////////////////////

      function starter()   {
        localStorage["language"] = "";
        setLanguage();

//        cordova.plugins.backgroundMode.setDefaults({
//          title: "Big Ben Bonger Background",
//          text: "[Tap HERE to Restore]",
//          resume: true,
//          hidden: false
//        });

        var body = document.getElementsByTagName('body')[0];
        var ratio = window.devicePixelRatio || 1;
        var h = screen.height;

        if (h / ratio > 780)   {
          body.style.fontSize = "22px";
          SIZE = "big";
          document.getElementById("myCanvas").style.width = "620px";
          document.getElementById("myCanvas").style.height = "642px";
        }
        else   {
          body.style.fontSize = "12px";
          SIZE = "small";
        }

        if (SIZE == "big")   {
          document.getElementById("ximage").style.width = "65px";
          document.getElementById("ximage").style.height = "65px";
          document.getElementById("minimage").style.width = "60px";
          document.getElementById("minimage").style.height = "60px";
          document.getElementById("helpIcon").style.width = "65px";
          document.getElementById("helpIcon").style.height = "65px";
          document.getElementById("no_phone_mute").style.width = "35px";
          document.getElementById("no_phone_mute").style.height = "35px";
          document.getElementById("Quarter").style.width = "35px";
          document.getElementById("Quarter").style.height = "35px";
          document.getElementById("Half").style.width = "35px";
          document.getElementById("Half").style.height = "35px";
          document.getElementById("Hour-strikes").style.width = "35px";
          document.getElementById("Hour-strikes").style.height = "35px";
          document.getElementById("bottomNavBar").style.height = "75px";
          document.getElementById("minimage").style.marginRight = "120px";
          document.getElementById("setup_but").style.fontSize = "1.2em";
          document.getElementById("setupTable").style.fontSize = "20px";

          if (screen.height <= screen.width) {
            if (localStorage["language"] == "ru")   {
              body.style.backgroundImage = 'url(img/bg_ru_lscape_lg.jpg)';
            }
            else if (localStorage["language"] == "ar")   {
              body.style.backgroundImage = 'url(img/img/bg_ar_lscape_lg.jpg)';
            }
            else if (localStorage["language"] == "hi")   {
              body.style.backgroundImage = 'url(img/img/bg_hi_lscape_lg.jpg)';
            }
            else if (localStorage["language"] == "ja")   {
              body.style.backgroundImage = 'url(img/img/bg_ja_lscape_lg.jpg)';
            }
            else   {
              body.style.backgroundImage = 'url(img/bg_lscape_lg.jpg)';
            }

            document.getElementById("setupButtonDiv").style.position = "relative";
            document.getElementById("setupButtonDiv").style.marginTop = "530px";
          }
          else   {
            if (localStorage["language"] == "ru")   {
              body.style.backgroundImage = 'url(img/bg_ru_pt_lg.jpg)';
            }
            else if (localStorage["language"] == "ar")   {
              body.style.backgroundImage = 'url(img/bg_ar_pt_lg.jpg)';
            }
            else if (localStorage["language"] == "hi")   {
              body.style.backgroundImage = 'url(img/bg_hi_pt_lg.jpg)';
            }
            else if (localStorage["language"] == "ja")   {
              body.style.backgroundImage = 'url(img/bg_ja_pt_lg.jpg)';
            }
            else   {
              body.style.backgroundImage = 'url(img/bg_pt_lg.jpg)';
            }

            document.getElementById("setupButtonDiv").style.position = "relative";
            document.getElementById("setupButtonDiv").style.marginTop = "600px";
          }
        }
        else   {
          document.getElementById("ximage").style.width = "45px";
          document.getElementById("ximage").style.height = "45px";
          document.getElementById("minimage").style.width = "42px";
          document.getElementById("minimage").style.height = "42px";
          document.getElementById("minimage").style.marginTop = "5px";
          document.getElementById("minimage").style.marginRight = "100px";
          document.getElementById("helpIcon").style.width = "45px";
          document.getElementById("helpIcon").style.height = "45px";

          if (screen.height <= screen.width) {
            if (localStorage["language"] == "ru")   {
              body.style.backgroundImage = 'url(img/bg_ru_lscape_sm.jpg)';
            }
            else if (localStorage["language"] == "ar")   {
              body.style.backgroundImage = 'url(img/bg_ar_lscape_sm.jpg)';
            }
            else if (localStorage["language"] == "hi")   {
              body.style.backgroundImage = 'url(img/bg_hi_lscape_sm.jpg)';
            }
            else if (localStorage["language"] == "ja")   {
              body.style.backgroundImage = 'url(img/bg_ja_lscape_sm.jpg)';
            }
            else   {
              body.style.backgroundImage = 'url(img/bg_lscape_sm.jpg)';
            }

            document.getElementById("setupButtonDiv").style.position = "fixed";
            document.getElementById("setupButtonDiv").style.top = "230px";
            document.getElementById("setupButtonDiv").style.right = "0px";
          }
          else   {
            if (localStorage["language"] == "ru")   {
              body.style.backgroundImage = 'url(img/bg_ru_pt_sm.jpg)';
            }
            else if (localStorage["language"] == "ar")   {
              body.style.backgroundImage = 'url(img/bg_ar_pt_sm.jpg)';
            }
            else if (localStorage["language"] == "hi")   {
              body.style.backgroundImage = 'url(img/bg_hi_pt_sm.jpg)';
            }
            else if (localStorage["language"] == "ja")   {
              body.style.backgroundImage = 'url(img/bg_ja_pt_sm.jpg)';
            }
            else   {
              body.style.backgroundImage = 'url(img/bg_pt_sm.jpg)';
            }

            document.getElementById("setupButtonDiv").style.position = "fixed";
            document.getElementById("setupButtonDiv").style.top = "286px";
            document.getElementById("setupButtonDiv").style.right = "0px";
          }
        }

        processSavedSettings();
        initializeCanvas();
        d = new Date();
        doTimeDisplay(d.getHours(), d.getMinutes());

        window.plugins.insomnia.keepAwake();

        cordova.plugins.backgroundMode.setEnabled(true);

        cordova.plugins.backgroundMode.on('activate', function() {
          cordova.plugins.backgroundMode.disableWebViewOptimizations();
        });

        permissions = cordova.plugins.permissions;

        PhoneCallTrap.onCall(function(state) {
          switch (state) {
            case "RINGING":
                MASTER_MUTE = true;
                break;
            case "OFFHOOK":
                MASTER_MUTE = true;
                break;
            case "IDLE":
                MASTER_MUTE = false;
                break;
          }
        });

        document.addEventListener("backbutton", function(e) {
            e.preventDefault();
            confirmExit();
          }, false );

        init();
      }

      document.addEventListener("resume", onResume, false);

      function onResume()   {
//        cordova.plugins.backgroundMode.moveToForeground();
        window.plugins.insomnia.keepAwake();
        clearTimeout(loopThread);
        init();
      }

      function doExit()   {
        clearTimeout(loopThread);
        window.plugins.insomnia.allowSleepAgain();
        navigator.app.exitApp();
      }

      function confirmExit()   {
        var q = confirm(quitConfirmText);
        if (q == true)   {
          doExit();
        }
        else   {
          return;
        }
      }

      function changeVolume(dir)   {
        if(my_media_WHICH != "NOT_RUNNING")   {
          clearTimeout(Timeouter);
          my_media_WHICH.stop();
          my_media_WHICH.release();
          my_media_WHICH = "NOT_RUNNING";
        }

        var pBar = document.getElementById("prog");

        if(my_media_TEST == "NOT_RUNNING")   {
          var dingerFile = this.root + "audio/" + THREE_QUARTER_DING;
          my_media_TEST = new Media(dingerFile,
                function () { console.log("playAudio():Audio Success"); },
                ignoreError()
          );

          my_media_TEST.play();

          var delay;
          if (DING_SELECTION == "bb")   {
            delay = 14000;
          }
          if (DING_SELECTION == "mg")   {
            delay = 5500;
          }
          else   {
            delay = 19000;
          }

          delayRelease = setTimeout(function()   {
            my_media_TEST.stop();
            my_media_TEST.release();
            my_media_TEST = "NOT_RUNNING";
          }, delay);
        }

        if (dir == "+")   {
          if (MASTER_VOLUME < 13)   {
            MASTER_VOLUME++;
          }
        }
        else   {
          if (MASTER_VOLUME > 0)   {
            MASTER_VOLUME--;
          }
        }

        pBar.value = MASTER_VOLUME;
        my_media_TEST.setVolume(volumes[MASTER_VOLUME]);

        localStorage["volume"] = MASTER_VOLUME.toString();
//        alert (MASTER_VOLUME);
        CURRENT_VOLUME = MASTER_VOLUME;
      }

      function doGoToBG()   {
        window.plugins.insomnia.allowSleepAgain();

//        cordova.plugins.backgroundMode.setDefaults({
//          title: "Big Ben Bonger Background",
//          text: backgroundNotificationText,
//          resume: true,
//          hidden: false
//        });
//
//        cordova.plugins.backgroundMode.disableWebViewOptimizations();
//        cordova.plugins.backgroundMode.configure({ text: backgroundNotificationText, resume: true  });
//
        firstTimeInBG = true;
        cordova.plugins.backgroundMode.moveToBackground();
        cordova.plugins.backgroundMode.configure({ text: backgroundNotificationText, resume: true  });
      }

      function doHelp()   {
        navigator.notification.alert(
          helpText,
          "",
          helpTextTitle,
          helpDismissText
        );
      }

      function showScreenSize()   {
        var ratio = window.devicePixelRatio || 1;
        var h = screen.height;
        var w = screen.width;

//        alert("SCREEN = " + w + " x " + h + "\n RATIO = " + ratio + "\n\nMAGIC_NUMBER =\n" + MAGIC_NUMBER + "  [" + localStorage["locker"] + "]");
      }

      function processSavedSettings()   {
//
//  Clock Selection
//
        if ((localStorage["ding_selection"] != "bb") && (localStorage["ding_selection"] != "bg") && (localStorage["ding_selection"] != "gf") && (localStorage["ding_selection"] != "mg"))   {
          localStorage["ding_selection"] = "bb";
        }

        QUARTER_DING = localStorage["ding_selection"] + "_quarter.mp3";
        HALF_DING  = localStorage["ding_selection"] + "_half.mp3";
        THREE_QUARTER_DING = localStorage["ding_selection"] + "_three-quarter.mp3";
        HOUR_DING = localStorage["ding_selection"] + "_hour.mp3";
        DING_SELECTION = localStorage["ding_selection"];

//
//  Mute during Phonecalls
//
        if ((localStorage["no_phone_mute"] != "checked") && (localStorage["no_phone_mute"] != "no"))   {
          localStorage["no_phone_mute"] = "no";
        }

        if (localStorage["no_phone_mute"] == "checked")   {
          document.getElementById("no_phone_mute").checked = true;
        }
        else   {
          document.getElementById("no_phone_mute").checked = false;
        }

//        alert ("DING: " + localStorage["ding_selection"] + "\n\nMUTE: " + localStorage["no_phone_mute"]);

//
//  15 & 45 Chimes
//
        if ((localStorage["quarter"] != "checked") && (localStorage["quarter"] != "no"))   {
          localStorage["quarter"] = "checked";
        }

        if (localStorage["quarter"] == "checked")   {
          QUARTER_MUTE = false;
          THREE_QUARTER_MUTE = false;
          document.getElementById("Quarter").checked = true;
        }
        else   {
          QUARTER_MUTE = true;
          THREE_QUARTER_MUTE = true;
          document.getElementById("Quarter").checked = false;
        }

//
//  Half-hour Chimes
//
        if ((localStorage["half"] != "checked") && (localStorage["half"] != "no"))   {
          localStorage["half"] = "checked";
        }

        if (localStorage["half"] == "checked")   {
          HALF_MUTE = false;
          document.getElementById("Half").checked = true;
       }
        else   {
          HALF_MUTE = true;
          document.getElementById("Half").checked = false;
        }

//
//  On-the-hour Strikes
//
        if ((localStorage["hour-strikes"] != "checked") && (localStorage["hour-strikes"] != "no"))   {
          localStorage["hour-strikes"] = "checked";
        }

        if (localStorage["hour-strikes"] == "checked")   {
          DO_STRIKES = true;
          document.getElementById("Hour-strikes").checked = true;
       }
        else   {
          DO_STRIKES = false;
          document.getElementById("Hour-strikes").checked = false;
        }

//
//  Volume
//
        if ((localStorage["volume"] == "undefined") || (localStorage["volume"] == "") || (localStorage["volume"] == null))   {
          localStorage["volume"] = "6";
        }

        if (parseFloat(localStorage["volume"]) < 1.0)   {
          localStorage["volume"] = "6";
        }
        else if (parseFloat(localStorage["volume"]) > 13)   {
          localStorage["volume"] = "13";
        }

        MASTER_VOLUME = parseFloat(localStorage["volume"]);
        CURRENT_VOLUME = MASTER_VOLUME;
        document.getElementById("prog").value = CURRENT_VOLUME;
      }

      function doPhoneMute()   {
        if (document.getElementById("no_phone_mute").checked == true)   {
          localStorage["no_phone_mute"] = "checked";
        }
        else   {
          localStorage["no_phone_mute"] = "no";
        }
      }


      function setLanguage()   {

        localStorage["language"] = "";

        navigator.globalization.getPreferredLanguage( function (language)   {
          myLang = language.value.substring(0, 2);
          localStorage["language"] = myLang;

//        alert(localStorage["language"]);

          if (localStorage["language"] == "pt")   {
            do24Hr = true;
            document.getElementById("setup_but").value = " OPÇÕES >";
            mantleClockText = "RELÓGIO MANTEL";
            grandfatherClockText = "RELÓGIO AVÔ";
            magdaleneClockText = "CHIMES DE MAGDALEN";
            document.getElementById("bongDuringCall").innerHTML = "&nbsp;BONG DURANTE O CHAMADO DE TELEFONE";
            document.getElementById("15_45_Label").innerHTML = "&nbsp;:15 e :45 CHIMES";
            document.getElementById("Half_Label").innerHTML = "&nbsp;MEIA HORA";
            document.getElementById("Hour_Label").innerHTML = "&nbsp;CHIMES HORAIS";
            helpText = "Deixe o Big Ben V1.8 ajudá-lo quando você não quer perder o tempo - perfeito ao ler, trabalhar, estudar ou mesmo fazer compras - um lembrete sutil a cada 15 minutos.\n\n";
            helpText += "Toque no botão [OPÇÕES >] para ajustar as configurações. Suas configurações são sempre salvas. Quando terminar, toque o botão [< OPÇÕES] novamente. Você pode deixar Ben assim e ele irá exibir o tempo e o bongo para você o dia todo.\n\n";
            helpText += "Mas provavelmente você quer fazer outras coisas com seu telefone ou tablet. Você pode minimizar o Big Ben tocando no ícone Minimizar azul quadrado na parte inferior da tela. Big Ben continuará a bong até você sair do aplicativo.\n\n";
            helpText += "Para voltar a maximizar o Bonger, toque o ícone Big Ben ou toque na mensagem de notificação do Big Ben. Você pode então sair do aplicativo usando o ícone vermelho \"X\" no canto inferior direito. Obrigado por escolher o Big Ben Bonger.\n\n";
            helpText += "=======================\n";
            helpText += "Agora disponível:\nBIG BEN BONGER ++PLUS++\n\n";
            helpText += "Mais sons de relógio ... Som de pêndulo ... 'Quieto Tempo' ... Início Automático ... Mudo manual\n\nVisite nosso site para ver uma demonstração:\nwww.BigBenBonger.com/pt/\n";
            helpText += "=======================\n\n";
            helpText += "Deus salve a rainha.\n" + localStorage["language"] + "\n\numikeapps@outlook.com";
            helpTextTitle = "Bem-vindo ao Big Ben Bonger";
            helpDismissText = "DISPENSAR";
            quitConfirmText = "Você quer sair do Big Ben Bonger?";
            backgroundNotificationText = "[Toque AQUI para restaurar]";
            optionsInText = "OPÇÕES >";
            optionsOutText = "< OPÇÕES";
            notificationTitle = "Fundo Big Ben Bogner";

            newYearText = "FELIZ ANO NOVO! Se você vai usar este aplicativo para tocar no ano novo, você precisa estar ciente do tempo dos sinos do Big Ben.\n\n";
            newYearText += "Em todos os nossos relógios, o Westminster Chimes começará exatamente no horário a cada 15 minutos. No entanto, há uma exceção -- o Big Ben. ";
            newYearText += "No início de cada hora, Westminster Chimes do Big Ben (a melodia de 16 notas tocada antes da hora bater) começará cerca de 15 segundos antes. ";
            newYearText += "Cada hora, na verdade, começa não quando o Big Ben começa a soar, mas quando ele começa a soar as horas. Foi assim que as especificações do relógio foram escritas na década de 1840, e tem sido assim em Londres desde então.\n\n ";
            newYearText += "Portanto, se o Big Ben é o seu relógio de escolha, à meia-noite você deve esperar ouvir os sinos cedo, e o sino da primeira hora será o início do novo ano. Todos os outros relógios começarão a soar exatamente à meia-noite. Feliz Ano Novo!";
            newYearTextTitle = "O ano está terminando";

            introText = "POR FAVOR LEIA ISTO. Só será exibido uma vez.\n\nObrigado por experimentar o Big Ben Bonger. ";
            introText += "Embora quase todos que instalaram este aplicativo o tenham feito funcionar perfeitamente, alguns dispositivos podem ter problemas para executar o Big Ben em segundo plano. Isso geralmente pode ser resolvido fazendo algumas alterações nas configurações do dispositivo.\n\n";
            introText += "Portanto, se o Big Ben parar de trabalhar para você durante a execução em segundo plano, obtivemos algumas soluções em nosso site \"BigBenBonger.com\". Existe um link na tela principal. Espero que o Big Ben funcione bem para você e que goste do aplicativo.\n\nObrigado por escolher o Big Ben Bonger. Seu dispositivo está executando o Android " + device.version + ".";

          }
          else if (localStorage["language"] == "fr")   {
            do24Hr = true;
            document.getElementById("setup_but").value = "OPTIONS >";
            mantleClockText = "HORLOGE MANTELLE";
            grandfatherClockText = "HORLOGE GRAND-PÈRE";
            magdaleneClockText = "CARILLONS MAGDALEN";
            document.getElementById("bongDuringCall").innerHTML = " BONG DURANT LE TÉLÉPHONE";
            document.getElementById("15_45_Label").innerHTML = "&nbsp;:15 &amp; :45 CHIMES";
            document.getElementById("Half_Label").innerHTML = "&nbsp;DEMI-PASSÉ";
            document.getElementById("Hour_Label").innerHTML = "&nbsp;CHIMES HORAIRES";
            helpText = "Laissez Big Ben V1.8 vous aider lorsque vous ne voulez pas perdre la trace du temps -- parfait lors de la lecture, du travail, des études ou même des achats -- un rappel subtil toutes les 15 minutes.\n\n";
            helpText += "Appuyez sur le bouton [OPTIONS >] pour ajuster les paramètres. Vos paramètres sont toujours sauvegardés. Une fois terminé, appuyez de nouveau sur le bouton [< OPTIONS]. Vous pouvez laisser Ben comme ça et il vous montrera le temps et le bong pour vous toute la journée.\n\n";
            helpText += "Mais vous voudrez probablement faire d'autres choses avec votre téléphone ou votre tablette. Vous pouvez minimiser Big Ben en appuyant sur l'icône Minimiser bleu carré en bas de l'écran. Big Ben continuera à bong jusqu'à ce que vous quittez l'application.\n\n";
            helpText += "Pour re-maximiser le Bonger, appuyez sur l'icône Big Ben, ou le message de notification Big Ben. Vous pouvez ensuite quitter l'application à l'aide de l'icône rouge \"X\" dans le coin inférieur droit. Merci d'avoir choisi le Big Ben Bonger.\n\n";
            helpText += "=======================\n";
            helpText += "Maintenant disponible:\nBIG BEN BONGER ++PLUS++\n\n";
            helpText += "Plus de sons d'horloge ... Son du pendule ... 'Moments de Silence' ... Démarrage Automatique ... Manuel Mute\n\nVisitez notre site Web pour le voir en action:\nwww.BigBenBonger.com/fr/\n";
            helpText += "=======================\n\n";
            helpText += "Dieu sauve la reine.\n" + localStorage["language"] + "\n\numikeapps@outlook.com";
            helpTextTitle = "Bienvenue au Big Ben Bonger";
            helpDismissText ="RENVOYER";
            quitConfirmText = "Voulez-vous quitter Big Ben Bonger?";
            backgroundNotificationText = "[Appuyez ICI pour restaurer]";
            optionsInText = "OPTIONS >";
            optionsOutText = "< OPTIONS";
            notificationTitle = "Fond de Big Ben Bonger";

            newYearText = "BONNE ANNÉE! Si vous comptez utiliser cette application pour sonner la nouvelle année, vous devez être conscient du timing des bongs de Big Ben.\n\n";
            newYearText += "Sur toutes nos horloges, les carillons de Westminster commenceront exactement au début de l'heure et toutes les 15 minutes. Cependant, il y a une exception -- Big Ben. ";
            newYearText += "Au début de chaque heure, le Westminster Chimes de Big Ben (la mélodie de 16 notes jouée avant que l'heure ne sonne) commence environ 15 secondes plus tôt. ";
            newYearText += "Chaque heure commence en fait non pas quand Big Ben commence à sonner, mais quand il commence à bong les heures. C’est ainsi que les spécifications de l’horloge ont été écrites dans les années 1840, et il a été bonging de cette façon à Londres depuis.\n\n ";
            newYearText += "Donc, si Big Ben est votre horloge de choix, à minuit, vous devriez vous attendre à entendre les carillons tôt, et la première grève de minuit sera le début de la nouvelle année. Toutes les autres horloges commenceront à carillonr à minuit exactement. Bonne Année!";
            newYearTextTitle = "L’année se termine";

            introText = "S’LL VOUS PLAÎT, LISEZ CECI. Il ne sera affiché qu’une seule fois.\n\nMerci d’avoir essayé Big Ben Bonger. ";
            introText += "Bien que presque tout le monde qui a installé cette application a eu fonctionner parfaitement, il ya quelques appareils qui peuvent avoir des problèmes d’exécution Big Ben en mode arrière-plan. Cela peut généralement être résolu en apportant quelques modifications aux paramètres de l’appareil.\n\n";
            introText += "Si Big Ben cesse de travailler pour vous en cours d’exécution en arrière-plan, nous avons décrit quelques solutions sur notre site «BigBenBonger.com». Il y a un lien sur l’écran principal. J’espère que Big Ben fonctionne bien pour vous et que vous appréciez l’application.\n\nMerci d’avoir choisi le Big Ben Bonger. Votre appareil fonctionne sous Android " + device.version + ".";
          }
          else if (localStorage["language"] == "de")   {
            do24Hr = true;
            document.getElementById("setup_but").value = "OPTIONEN >";
            mantleClockText = "UHR MANTEL";
            grandfatherClockText = "UHR GROßVATER";
            magdaleneClockText = "MAGDALEN CHIMES";
            document.getElementById("bongDuringCall").innerHTML = " BONG WÄHREND DER TELEFONATE";
            document.getElementById("15_45_Label").innerHTML = "&nbsp;:15 &amp; :45 GLOCKENSPIEL";
            document.getElementById("Half_Label").innerHTML = "&nbsp;HALBE STUNDE GLOCKENSPIEL";
            document.getElementById("Hour_Label").innerHTML = "&nbsp;STÜNDLICH GLOCKENSPIEL";
            helpText = "Lassen Sie Big Ben V1.8 Ihnen helfen, wenn Sie nicht wollen, Zeit zu verlieren - ideal zum Lesen, Arbeiten, Studieren oder sogar beim Einkaufen - Eine subtile Erinnerung alle 15 Minuten.\n\n";
            helpText += "Tippen Sie auf die Schaltfläche [OPTIONEN >], um die Einstellungen anzupassen. Ihre Einstellungen werden immer gespeichert. Wenn Sie fertig sind, tippen Sie erneut auf die Schaltfläche [< OPTIONEN]. Du kannst Ben so verlassen und er wird die Zeit und die Bong für dich den ganzen Tag zeigen.\n\n";
            helpText += "Aber am ehesten wirst du andere Dinge mit deinem Handy oder Tablet machen wollen. Sie können Big Ben minimieren, indem Sie auf das quadratische blaue Minimize Icon am unteren Rand des Bildschirms klopfen. Big Ben wird weiter bong, bis du die App beendest.\n\n";
            helpText += "Um den Bonger neu zu maximieren, tippe das Big Ben Symbol, oder die Big Ben-Benachrichtigung. Sie können dann die App mit dem roten \"X\" Icon in der rechten unteren Ecke verlassen. Vielen Dank für die Wahl der Big Ben Bonger.\n\n";
            helpText += "=======================\n";
            helpText += "Jetzt erhältlich:\nBIG BEN BONGER ++PLUS++\n\n";
            helpText += "Mehr Uhr klingt ... Pendel Sound ... 'Ruhige Zeit' ... Automatischer Start ... Manuelle Stummschaltung\n\nBesuchen Sie unsere Website, um es in Aktion zu sehen:\nwww.BigBenBonger.com/de/\n";
            helpText += "=======================\n\n";
            helpText += "Gott schütze die Königin.\n" + localStorage["language"] + "\n\numikeapps@outlook.com";
            helpTextTitle = "Willkommen bei den Big Ben Bonger";
            helpDismissText ="SCHLIEßEB";
            quitConfirmText = "Willst du Big Ben Bonger verlassen?";
            backgroundNotificationText = "[Tippen Sie zum Wiederherstellen HIER]";
            optionsInText = "OPTIONEN >";
            optionsOutText = "< OPTIONEN";
            notificationTitle = "Big Ben Bonger Hintergrund";

            newYearText = "ALLES GUTE ZUM NEUEN JAHR! Wenn Sie diese App verwenden werden, um im neuen Jahr zu klingeln, müssen Sie sich des Timings von Big Bens Bongs bewusst sein.\n\n";
            newYearText += "Auf allen unseren Uhren beginnen die Westminster Chimes genau zu Beginn jeder Stunde und danach alle 15 Minuten. Es gibt jedoch eine Ausnahme -- Big Ben. ";
            newYearText += "Zu Beginn jeder Stunde beginnt Big Bens Westminster Chimes (die 16-Noten-Melodie, die vor den Stundenbongs gespielt wird) etwa 15 Sekunden früher. ";
            newYearText += "Jede Stunde beginnt eigentlich nicht, wenn Big Ben anfängt zu läuten, sondern wenn er anfängt, die Stunden zu bongen. So wurden die Spezifikationen für die Uhr in den 1840er Jahren geschrieben, und seitdem ist es in London so gelaufen.\n\n ";
            newYearText += "Wenn Big Ben also Ihre Uhr der Wahl ist, sollten Sie um Mitternacht erwarten, das Glockenspiel früh zu hören, und der erste Streik um Mitternacht wird der Beginn des neuen Jahres sein. Alle anderen Uhren beginnen genau um Mitternacht zu läuten. Alles Gute Zum Neuen Jahr!";
            newYearTextTitle = "Das Jahr geht zu Ende";

            introText = "BITTE LESEN SIE DIESES. Es wird nur einmal angezeigt.\n\nVielen Dank, dass Sie Big Ben Bonger ausprobiert haben. ";
            introText += "Obwohl fast jeder, der diese App installiert hat, hat es perfekt funktionieren, es gibt ein paar Geräte, die Probleme haben können, Big Ben im Hintergrundmodus laufen. Dies kann in der Regel durch einige Änderungen an den Einstellungen des Geräts behoben werden.\n\n";
            introText += "Wenn Big Ben aufhört, für Sie zu arbeiten, wenn sie im Hintergrund läuft, haben wir einige Lösungen auf unserer Website \"BigBenBonger.com\" skizziert. Es gibt einen Link auf dem Hauptbildschirm. Ich hoffe, Big Ben funktioniert gut für Sie und dass Sie die App genießen.\n\nVielen Dank, dass Sie sich für den Big Ben Bonger entschieden haben. Auf Ihrem Gerät wird Android " + device.version + " ausgeführt.";
          }
          else if (localStorage["language"] == "es")   {
            do24Hr = false;
            document.getElementById("setup_but").value = "OPCIONES >";
            mantleClockText = "RELOJ ANTIGUO";
            grandfatherClockText = "RELOJ DE ABUELO";
            magdaleneClockText = "CAMPANAS DE MAGDALEN";
            document.getElementById("bongDuringCall").innerHTML = " BONG DURANTE PHONECALLS";
            document.getElementById("15_45_Label").innerHTML = "&nbsp;:15 &amp; :45 CHIMES";
            document.getElementById("Half_Label").innerHTML = "&nbsp;CHIMES DE LA MEDIA HORA";
            document.getElementById("Hour_Label").innerHTML = "&nbsp;CADA HORA CHIMES";
            helpText = "Deje que Big Ben V1.8 le ayude cuando no quiera perder la noción del tiempo. Perfecto para leer, trabajar, estudiar o incluso ir de compras. Un sutil recordatorio cada 15 minutos.\n\n";
            helpText += "Pulse el botón [OPCIONES >] para ajustar la configuración. Su configuración siempre se guarda. Cuando termine, vuelva a pulsar el botón [< OPCIONES]. Puede dejar a Ben así y mostrará el tiempo y el bong para usted todo el día.\n\n";
            helpText += "Pero lo más probable es que usted desee hacer otras cosas con su teléfono o tableta. Usted puede minimizar Big Ben pulsando en el icono del cuadrado azul de minimizar en la parte inferior de la pantalla. Big Ben continuará haciendo bong hasta que usted salga de la aplicación.\n\n";
            helpText += "Para volver a maximizar el Bonger, pulse en el icono Big Ben o el mensaje de notificación de Big Ben. Entonces usted puede salir de la aplicación usando la \"X\" del icono rojo en la esquina inferior derecha. Gracias por elegir Big Ben Bonger.\n\n";
            helpText += "=======================\n";
            helpText += "Ya disponible:\nBIG BEN BONGER ++PLUS++\n\n";
            helpText += "Más sonidos de reloj ... Sonido de péndulo ... 'Tiempo de Silencio' ... Inicio automático ... Silencio manual\n\nVisite nuestro sitio web para verlo en acción:\nwww.BigBenBonger.com/es/\n";
            helpText += "=======================\n\n";
            helpText += "Dios salve a la reina.\n" + localStorage["language"] + "\n\numikeapps@outlook.com";
            helpTextTitle = "Bienvenido al Big Ben Bonger";
            helpDismissText ="DESPEDIR";
            quitConfirmText = "¿Quieres salir de Big Ben Bonger?";
            backgroundNotificationText = "[Toca AQUÍ para restaurar]";
            optionsInText = "OPCIONES >";
            optionsOutText = "< OPCIONES";
            notificationTitle = "Fondo Big Ben Bonger";

            newYearText = "¡FELIZ AÑO NUEVO! Si va a utilizar esta aplicación para recibir el año nuevo, debe estar al tanto del horario de los bongs del Big Ben.\n\n";
            newYearText += "En todos nuestros relojes, las campanillas de Westminster comenzarán exactamente al comienzo de cada hora y cada 15 minutos a partir de entonces. Sin embargo, hay una excepción -- el Big Ben. ";
            newYearText += "Al comienzo de cada hora, las campanas de Westminster del Big Ben (la melodía de 16 notas que se toca antes de que llegue la hora) comenzarán unos 15 segundos antes. ";
            newYearText += "Cada hora en realidad comienza no cuando el Big Ben comienza a sonar, sino cuando empieza a hacer las horas. Así es como las especificaciones para el reloj fueron escritas en la década de 1840, y ha estado bonging de esa manera en Londres desde entonces.\n\n ";
            newYearText += "Así que si el Big Ben es tu reloj de elección, a medianoche deberías esperar escuchar las campanadas temprano, y la primera huelga de medianoche será el comienzo del nuevo año. Todos los demás relojes comenzarán a sonar exactamente a medianoche. ¡Feliz Año Nuevo!";
            newYearTextTitle = "El Año Está Terminando";

            introText = "POR FAVOR, LEA ESTO. Solo se mostrará una vez.\n\nGracias por probar Big Ben Bonger. ";
            introText += "Aunque casi todos los que han instalado esta aplicación han tenido que funcionar perfectamente, hay algunos dispositivos que pueden tener problemas para ejecutar Big Ben en modo de fondo. Por lo general, esto se puede resolver realizando algunos cambios en la configuración del dispositivo.\n\n";
            introText += "Si Big Ben deja de trabajar para usted cuando se ejecuta en segundo plano, hemos descrito algunas soluciones en nuestro sitio web \"BigBenBonger.com\". Hay un enlace en la pantalla principal. Espero que Big Ben funcione bien para ti y que disfrutes de la aplicación.\n\nGracias por elegir el Big Ben Bonger. El dispositivo está ejecutando Android " + device.version + ".";
          }
          else if (localStorage["language"] == "it")   {
            do24Hr = true;
            document.getElementById("setup_but").value = "OPZIONI >";
            mantleClockText = "OROLOGIO MANTELLO";
            grandfatherClockText = "OROLOGIO DEL NONNO";
            magdaleneClockText = "CAMPANE DI MAGDALEN";
            document.getElementById("bongDuringCall").innerHTML = "&nbsp;BONG DURANTE LE TELEFONI";
            document.getElementById("15_45_Label").innerHTML = "&nbsp;:15 &amp; :45 CHIMES";
            document.getElementById("Half_Label").innerHTML = "&nbsp;MEZZ'ORA CHIMES";
            document.getElementById("Hour_Label").innerHTML = "&nbsp;ORA CAMPANA";
            helpText = "Lascia che Big Ben V1.8 ti aiuti quando non vuoi perdere la cognizione del tempo -- perfetto durante la lettura, il lavoro, lo studio o anche lo shopping -- un sottile promemoria ogni 15 minuti.\n\n";
            helpText += "Toccare il pulsante [OPZIONI >] per regolare le impostazioni. Le tue impostazioni vengono sempre salvate.  Al termine, toccare nuovamente il pulsante [< OPZIONI].  Puoi lasciare Ben in questo modo e mostrerà l'ora e il bong per te tutto il giorno.\n\n";
            helpText += "Ma molto probabilmente vorrai fare altre cose con il tuo telefono o tablet. Puoi ridurre a icona il Big Ben toccando l'icona a icona quadrata blu nella parte inferiore dello schermo. Il Big Ben continuerà a suonare fino all'uscita dall'app.\n\n";
            helpText += "Per massimizzare il Bonger, tocca il messaggio di notifica del Big Ben o l'icona del Big Ben. È quindi possibile uscire dall'app utilizzando l'icona rossa \"X\" nell'angolo in basso a destra. Grazie per aver scelto il Big Ben Bonger.\n\n";
            helpText += "=======================\n";
            helpText += "Ora disponibile:\nBIG BEN BONGER ++PLUS++\n\n";
            helpText += "Altri suoni di orologio ... Suono a pendolo ... 'Tempo Tranquillo' ... Inizio automatico ... Disattivazione manual\n\nVisita il nostro sito Web per vederlo in azione:\nwww.BigBenBonger.com/it/\n";
            helpText += "=======================\n\n";
            helpText += "Dio Salvi la Regina...\n" + localStorage["language"] + "\n\numikeapps@outlook.com";
            helpTextTitle = "Benvenuti nel Big Ben Bonger";
            helpDismissText = "CHIUDI";
            quitConfirmText = "Vuoi uscire dal Big Ben Bonger?";
            backgroundNotificationText = "[Tocca QUI per ripristinare]";
            optionsInText = "OPZIONI >";
            optionsOutText = "< OPZIONI";
            notificationTitle = "Sfondo di Big Ben Bonger";

            newYearText = "FELICE ANNO NUOVO! Se avete intenzione di utilizzare questa applicazione per suonare nel nuovo anno, è necessario essere consapevoli della tempistica dei bong del Big Ben.\n\n";
            newYearText += "Su tutti i nostri orologi, le Chimes di Westminster inizieranno esattamente all'inizio di ogni ora e ogni 15 minuti successivi. Tuttavia c'è un'eccezione -- Big Ben. ";
            newYearText += "All'inizio di ogni ora, Westminster Chimes del Big Ben (il brano di 16 note suonato prima degli scioperi dell'ora) inizierà con circa 15 secondi di anticipo. ";
            newYearText += "Ogni ora in realtà inizia non quando Big Ben inizia a squillare, ma quando inizia a contare le ore. È così che le specifiche per l'orologio sono state scritte nel 1840, e da allora suona così a Londra.\n\n ";
            newYearText += "Quindi, se il Big Ben è il tuo orologio preferito, a mezzanotte dovresti aspettarti di sentire i rintocchi presto, e il primo sciopero di mezzanotte sarà l'inizio del nuovo anno. Tutti gli altri orologi inizieranno a suonare esattamente a mezzanotte. Felice Anno Nuovo!";
            newYearTextTitle = "L'anno sta finendo";

            introText = "SI PREGA DI LEGGERE QUESTO. Verrà visualizzato una sola volta.\n\nGrazie per aver provato il Big Ben Bonger. ";
            introText += "Anche se quasi tutti coloro che hanno installato questa applicazione ha avuto funziona perfettamente, ci sono alcuni dispositivi che possono avere problemi di esecuzione Big Ben in modalità in background. Questo problema può essere risolto apportando alcune modifiche alle impostazioni del dispositivo.\n\n";
            introText += "Se Big Ben smette di lavorare per te quando viene eseguito in background, abbiamo delineato alcune soluzioni sul nostro sito web \"BigBenBonger.com\". C'è un link nella schermata principale. Spero che il Big Ben funzioni bene per te e che ti piaccia l'app.\n\nGrazie per aver scelto il Big Ben Bonger. Il dispositivo esegue Android " + device.version + ".";
          }
          else if (localStorage["language"] == "ar")   {
            if (screen.height <= screen.width)   {
              if (SIZE == "big")   {
                body.style.backgroundImage = 'url(img/bg_ar_lscape_lg.jpg)';
              }
              else   {
                body.style.backgroundImage = 'url(img/bg_ar_lscape_sm.jpg)';
              }
            }
            else   {
              if (SIZE == "big")   {
                body.style.backgroundImage = 'url(img/bg_ar_pt_lg.jpg)';
              }
              else   {
                body.style.backgroundImage = 'url(img/bg_ar_pt_sm.jpg)';
              }
            }

//  "Big Ben" = بج بن
//  "Big Ben Bonger" = بج بن بونغر
//  "Plus" = بلس
//  "Big Ben Bonger Plus" = بج بن بونغر بلس
//  "Welcome to the Big Ben Bonger" = مرحبًا بك في بج بن بونغر

            document.getElementById("setup_but").value = "خيارات >";
            mantleClockText = "ساعة الطاولة";
            grandfatherClockText = "ساعة الجد الأكبر";
            magdaleneClockText = "ماجدالين الدقات";
            document.getElementById("bongDuringCall").innerHTML = "&nbsp;بونج خلال المكالمات الهاتفية";
            document.getElementById("15_45_Label").innerHTML = "&nbsp;:15 & :45 ناقوس";
            document.getElementById("Half_Label").innerHTML = "&nbsp;:30 ناقوس";
            document.getElementById("Hour_Label").innerHTML = "&nbsp;:00 ناقوس";
            helpText = "دع  بج بن بونغر V1.8 يساعدك عندما لا تريد أن تفقد مسار الوقت -- مثالية عند القراءة أو العمل أو الدراسة أو حتى التسوق -- تذكير لطيف كل 15 دقيقة.\n\n";
            helpText += "انقر على زر [ خيارات>] لضبط الإعدادا ت. يتم حفظ إعداداتك دائمًا.  < خيارات  يمكنك ترك بن مثل هذا وسيقوم بعرض الوقت وبونغ لك طوال اليوم.\n\n";
            helpText += "ولكن على الأرجح سترغب في القيام بأشياء أخرى باستخدام هاتفك أو جهازك اللوحي. يمكنك تصغير ساعة بيغ بن بالضغط على أيقونة تصغير الشكل الزرقاء المربعة أسفل الشاشة. سيستمر بج بن في الرنين حتى الخروج من التطبيق.\n\n";
            helpText += "لإعادة تكبير Bonger إلى أقصى حد ، انقر فوق رسالة إعلام بج بن أو رمز بج بن. يمكنك بعد ذلك الخروج من التطبيق باستخدام رمز \"X\" الأحمر في الزاوية اليمنى السفلية. شكرا لك على اختيار بج بن بونغر.\n\n";
            helpText += "=======================\n";
            helpText += "متاح الان:\n ++ بج بن بونغر بلس ++\n\n";
            helpText += "المزيد من أصوات الساعة ... صوت البندول ... 'وقت هادئ' ... بدء تلقائي ... كتم الصوت اليدوي\n\nقم بزيارة موقعنا على الإنترنت لمشاهدته في العمل:\nwww.BigBenBonger.com/ar/\n";
            helpText += "=======================\n\n";
            helpText += "فليحفظ الله الملكة...\n" + localStorage["language"] + "\n\numikeapps@outlook.com";
            helpTextTitle = "مرحبًا بك في بج بن بونغر";
            helpDismissText = "أغلق";
            quitConfirmText = "هل تريد الخروج من بيغ بن بونغر؟";
            backgroundNotificationText = "[انقر هنا للاستعادة]";
            optionsInText = "خيارات >";
            optionsOutText = "< خيارات";
            notificationTitle = " بج بن بونغرخلفية";

            newYearText = "سنة جديدة سعيدة! إذا كنت تنوي استخدام هذا التطبيق لعصابة في العام الجديد، تحتاج إلى أن تكون على بينة من توقيت بونجس بيغ بن.\n\n";
            newYearText += "في جميع ساعاتنا ، ستبدأ أجراس وستمنستر بالضبط في بداية الساعة. ومع ذلك هناك استثناء واحد -- بيغ بن. ";
            newYearText += "في بداية كل ساعة ، ستبدأ نغمة وستمنستر الدقات لساعة بيغ بن (النغمة المكونة من 16 نوتة التي يتم تشغيلها قبل ضربات الساعة) قبل موعدها بحوالي 15 ثانية. ";
            newYearText += "كل ساعة تبدأ في الواقع ليس عندما يبدأ بيغ بن رنين، ولكن عندما يبدأ عد الساعات. هكذا كانت مواصفات الساعة مكتوبة في الأربعينيات من القرن التاسع عشر. و لقد كان يرن بهذه الطريقة في لندن منذ ذلك الحين.\n\n ";
            newYearText += "إذا بيغ بن هو ساعة اختيارك، في منتصف الليل يجب أن نتوقع أن نسمع الدقات في وقت مبكر، وأول ضربة منتصف الليل ستكون بداية العام الجديد. جميع الساعات الأخرى ستبدأ في منتصف الليل بالضبط. سنة جديدة سعيدة!";
            newYearTextTitle = "السنة تنتهي";

            introText = "الرجاء قراءة هذا. سيتم عرضه مرة واحدة فقط.\n\nشكراً لك على تجربة بيغ بن بونجر. ";
            introText += "على الرغم من أن كل من قام بتثبيت هذا التطبيق تقريبًا قد عمل بشكل مثالي ، إلا أن هناك عدد قليل من الأجهزة التي قد تواجه مشكلات في تشغيل بج بن في وضع الخلفية. يمكن حل هذا عادةً عن طريق إجراء بعض التغييرات على إعدادات الجهاز.\n\n";
            introText += "إذا توقفت ساعة بج بن عن العمل من أجلك عند الجري في الخلفية ، فقد حددنا بعض الحلول على موقعنا على الإنترنت \"BigBenBonger.com\". يوجد ارتباط على الشاشة الرئيسية. آمل أن تعمل ساعة بج بن بشكل جيد معك وأن تستمتع بالتطبيق.\n\nشكرًا لاختيارك ساعة بيج بن بونجر. جهازك يستخدم Android " + device.version + ".";
          }
          else if (localStorage["language"] == "ja")   {
            do24Hr = true;
            if (screen.height <= screen.width)   {
              if (SIZE == "big")   {
                body.style.backgroundImage = 'url(img/bg_ja_lscape_lg.jpg)';
              }
              else   {
                body.style.backgroundImage = 'url(img/bg_ja_lscape_sm.jpg)';
              }
            }
            else   {
              if (SIZE == "big")   {
                body.style.backgroundImage = 'url(img/bg_ja_pt_lg.jpg)';
              }
              else   {
                body.style.backgroundImage = 'url(img/bg_ja_pt_sm.jpg)';
              }
            }

//  "Big Ben" = ビッグベン
//  "Big Ben Bonger" = ビッグベンボンガー
//  "Plus" = プラス
//  "Big Ben Bonger Plus" = ビッグベンボンガープラス
//  "Welcome to the Big Ben Bonger" = ビッグベンボンガーへようこそ

            document.getElementById("setup_but").value = "オプション >";
            mantleClockText = "デスククロック";
            grandfatherClockText = "祖父の時計";
            magdaleneClockText = "マグダリン・チャイムズ";
            document.getElementById("bongDuringCall").innerHTML = "&nbsp;通話中に呼び出し音が鳴る";
            document.getElementById("15_45_Label").innerHTML = "&nbsp;:15 &amp; :45 チャイム";
            document.getElementById("Half_Label").innerHTML = "&nbsp;:30 チャイム";
            document.getElementById("Hour_Label").innerHTML = "&nbsp;:00 チャイム";
            helpText = "時間を見失いたくないときにビッグベン V1.8がお手伝いします -- 読書、仕事、勉強、買い物にも最適 -- 15分ごとに微妙なリマインダー。\n\n";
            helpText += "[オプション >]ボタンをタップして設定を調整します。 設定は常に保存されます。  完了したら、[< オプション]ボタンをもう一度タップします。  ベンをこのままにしておくと、一日中、時間と着信音が表示されます。\n\n";
            helpText += "しかし、ほとんどの場合、携帯電話やタブレットで他のことをしたいと思うでしょう。 画面下部にある正方形の青い最小化アイコンをタップすると、ビッグベンを最小化できます。 ビッグベンは、アプリを終了するまで鳴り続けます。\n\n";
            helpText += "ボンガーを再び最大化するには、ビッグベン通知メッセージまたはビッグベンアイコンをタップします。 その後、右下隅の赤い「X」アイコンを使用してアプリを終了できます。 ビッグベンボンガーをお選びいただき、ありがとうございます。\n\n";
            helpText += "=======================\n";
            helpText += "利用可能になりました:\nビッグベンボンガー ++プラス++\n\n";
            helpText += "その他の時計の音 ... 振り子の音 ... '静かな時間' ... 自動スタート ... 手動ミュート\n\nウェブサイトにアクセスして、実際の動作を確認してください:\nwww.BigBenBonger.com\n";
            helpText += "=======================\n\n";
            helpText += "神は女王を救う...\n" + localStorage["language"] + "\n\numikeapps@outlook.com";
            helpTextTitle = "ビッグベンボンガーへようこそ";
            helpDismissText = "ヘルプを閉じる";
            quitConfirmText = "ビッグベンボンガーを終了しますか？";
            backgroundNotificationText = "[復元するにはここをタップしてください]";
            optionsInText = "オプション >";
            optionsOutText = "< オプション";
            notificationTitle = "ビッグベンボンジャーの背景";

            newYearText = "明けましておめでとう！ このアプリを使って新年を迎える場合は、ビッグベンの鐘のタイミングに注意する必要があります。\n\n";
            newYearText += "すべての時計で、ウェストミンスターの鐘が15分ごとに正確に時間どおりに鳴り始めます -- :15、:30、:45、:00。 しかし、1つの例外があります -- ビッグベン。 ";
            newYearText += "毎時間の初めに、ビッグベンのウェストミンスターチャイムズ(時間ストライキの前に演奏された16音の曲)は約15秒早く開始されます。 ";
            newYearText += "新しい時間の最初の秒は、ビッグベンが時間を数え始めると発生します。 それが1840年代に時計の仕様が書かれた方法であり、それ以来ロンドンではそのように鳴っています。\n\n ";
            newYearText += "したがって、ビッグベンを選択する場合は、真夜中にチャイムが早く聞こえることを期待する必要があります。真夜中の最初のストライキは新年の始まりになります。 他のすべての時計は、ちょうど真夜中にチャイムを開始します。 明けましておめでとう！";
            newYearTextTitle = "年は終わりです";

            introText = "これを読んでください。 一度だけ表示されます。\n\nビッグベンボンガーを試してくれてありがとう。 ";
            introText += "このアプリをインストールしているほとんどすべての人が完璧に動作しているが、バックグラウンドモードでビッグベンを実行する問題を抱えている可能性があるいくつかのデバイスがあります。 これは通常、デバイスの設定にいくつかの変更を加えることで解決できます。\n\n";
            introText += "ビッグベンがバックグラウンドで実行しているときにあなたのために働くのをやめた場合、私たちはウェブサイト「BigBenBonger.com」でいくつかの解決策を概説しました。 メイン画面にリンクがあります。 私はビッグベンがあなたのためにうまく動作し、あなたがアプリを楽しむことを願っています。\n\nビッグベンボンガーを選びてくれてありがとう。 お使いのデバイスは、Android " + device.version + "を実行しています。";
          }
          else if (localStorage["language"] == "ru")   {
            do24Hr = true;
            if (screen.height <= screen.width)   {
              if (SIZE == "big")   {
                body.style.backgroundImage = 'url(img/bg_ru_lscape_lg.jpg)';
              }
              else   {
                body.style.backgroundImage = 'url(img/bg_ru_lscape_sm.jpg)';
              }
            }
            else   {
              if (SIZE == "big")   {
                body.style.backgroundImage = 'url(img/bg_ru_pt_lg.jpg)';
              }
              else   {
                body.style.backgroundImage = 'url(img/bg_ru_pt_sm.jpg)';
              }
            }

            document.getElementById("setup_but").value = "ОПЦИИ >";
            mantleClockText = "МАНТИЙНЫЕ ЧАСЫ";
            grandfatherClockText = "ДЕДУШКИНЫ ЧАСЫ";
            magdaleneClockText = "МАГДАЛИНА КУРАНТЫ";
            document.getElementById("bongDuringCall").innerHTML = "&nbsp;БОНГ ВО ВРЕМЯ ТЕЛЕФОНОВ";
            document.getElementById("15_45_Label").innerHTML = "&nbsp;:15 &amp; :45 ЗВОНКИ";
            document.getElementById("Half_Label").innerHTML = "&nbsp;ПОЛОВИНА ЧАСОВ КУРАНТЫ";
            document.getElementById("Hour_Label").innerHTML = "&nbsp;ЧАСОВОЙ ЗВОНКИ";
            helpText = "Пусть Биг Бен V1.8 поможет вам, когда вы хотите напомнить о времени - идеально подходит для чтения, работы, учебы или даже покупок -- тонкое напоминание каждые 15 минут.\n\n";
            helpText += "Нажмите кнопку [ОПЦИИ >], чтобы настроить параметры. Ваши настройки всегда сохраняются.  Когда закончите, снова нажмите кнопку [< ОПЦИИ].  Вы можете оставить Бена таким, и он покажет вам время и бонг весь день.\n\n";
            helpText += "Но, скорее всего, вы захотите делать другие вещи с вашим телефоном или планшетом. Вы можете отправить Биг Бен на задний план, коснувшись синей квадратной иконки «Свернуть» в нижней части экрана. Биг Бен будет продолжать играть, пока вы не выйдете из приложения.\n\n";
            helpText += "Чтобы максимизировать Бонгер, коснитесь уведомительного сообщения Биг Бен или значка Биг Бен. Затем вы можете выйти из приложения, используя красный значок «X» в правом нижнем углу. Спасибо, что выбрали Биг Бен Бонгер.\n\n";
            helpText += "=======================\n";
            helpText += "Теперь доступно:\nБиг Бен Бонгер ++ ПЛЮС ++\n\n";
            helpText += "Больше звуков часов ... Звук маятника ... 'Тихое время' ... Автоматический старт ... Ручное отключение звука\n\nПосетите наш сайт, чтобы увидеть его в действии:\nwww.BigBenBonger.com/ru/\n";
            helpText += "=======================\n\n";
            helpText += "Боже, храни королеву...\n" + localStorage["language"] + "\n\numikeapps@outlook.com";
            helpTextTitle = "Добро пожаловать в Биг Бен Бонгер";
            helpDismissText = "ЗАКРЫТЬ";
            quitConfirmText = "Вы хотите выйти из Биг Бен Бонгер?";
            backgroundNotificationText = "[Нажмите ЗДЕСЬ, чтобы восстановить]";
            optionsInText = "ОПЦИИ >";
            optionsOutText = "< ОПЦИИ";
            notificationTitle = "Биг Бен Бонгер Фон";

            newYearText = "С НОВЫМ ГОДОМ! Если вы собираетесь использовать это приложение, чтобы встретить Новый год, вам нужно знать время бонгов Биг-Бена.\n\n";
            newYearText += "На всех наших часах Вестминстерские куранты начнут звучать точно по времени -- :15,:30,:45 и :00. Однако есть одно исключение -- Биг Бен. ";
            newYearText += "В начале каждого часа Вестминстерские куранты Биг-Бена (мелодия из 16 нот, играемая до того, как пробьет час) будут начинаться примерно на 15 секунд раньше. ";
            newYearText += "Каждый час начинается не тогда, когда Биг Бен начинает звенеть, а когда начинает отсчитывать часы. Так составлялись спецификации часов в 1840-х годах, и с тех пор в Лондоне так звонят.\n\n ";
            newYearText += "Так что, если Биг Бен - ваш выбор, в полночь вы должны ожидать услышать колокольчики раньше, и первый удар в полночь будет началом. Все остальные часы начнут звонить ровно в полночь. С Новым Годом!";
            newYearTextTitle = "Год подходит к концу";

            introText = "ПОЖАЛУЙСТА ПРОЧТИТЕ ЭТО. Он будет отображаться только один раз.\n\nСпасибо, что попробовали Биг Бен Бонгер. ";
            introText += "Хотя почти каждый, кто установил это приложение было работать отлично, Есть несколько устройств, которые могут иметь проблемы с запуском Биг-Бен в фоновом режиме. Обычно это можно решить, внести некоторые изменения в настройки устройства.\n\n";
            introText += "Если Биг Бен прекращает работать на вас при работе в фоновом режиме, мы наметили некоторые решения на нашем сайте \"BigBenBonger.com\". На главном экране есть ссылка. Я надеюсь, биг Бен работает хорошо для вас, и что вам понравится приложение.\n\nСпасибо за выбор Биг Бен Бонгер. Your device is running Android " + device.version + ".";
          }
          else if (localStorage["language"] == "hi")   {
            if (screen.height <= screen.width)   {
              if (SIZE == "big")   {
                body.style.backgroundImage = 'url(img/bg_hi_lscape_lg.jpg)';
              }
              else   {
                body.style.backgroundImage = 'url(img/bg_hi_lscape_sm.jpg)';
              }
            }
            else   {
              if (SIZE == "big")   {
                body.style.backgroundImage = 'url(img/bg_hi_pt_lg.jpg)';
              }
              else   {
                body.style.backgroundImage = 'url(img/bg_hi_pt_sm.jpg)';
              }
            }

            document.getElementById("setup_but").value = "विकल्प >";
            mantleClockText = "मेज घड़ी";
            grandfatherClockText = "दादा की घड़ी";
            magdaleneClockText = "मैगडालिन झंकार";
            document.getElementById("bongDuringCall").innerHTML = "&nbsp;फोनकॉल्स के दौरान अंगूठी";
            document.getElementById("15_45_Label").innerHTML = "&nbsp;:15 &amp; :45 घंटी";
            document.getElementById("Half_Label").innerHTML = "&nbsp;:30 घंटी";
            document.getElementById("Hour_Label").innerHTML = "&nbsp;:00 घंटी";
            helpText = "चलो बिग बेन V1.8 आप मदद जब आप समय का ट्रैक खोना नहीं चाहता -- पढ़ने, काम करने, अध्ययन करने या यहां तक ​​कि खरीदारी करते समय सही -- हर 15 मिनट में एक सूक्ष्म अनुस्मारक।\n\n";
            helpText += "टैप करें [विकल्प >] सेटिंग्स समायोजित करने के लिए बटन। आपकी सेटिंग्स हमेशा सहेजी जाती हैं।  समाप्त होने पर, टैप करें [< विकल्प] फिर से बटन।  आप बेन को इस तरह छोड़ सकते हैं और वह पूरे दिन आपके लिए समय और रिंग प्रदर्शित करेगा।\n\n";
            helpText += "लेकिन सबसे अधिक संभावना है कि आप अपने फोन या टैबलेट के साथ अन्य काम करना चाहते हैं। आप स्क्रीन के निचले भाग में स्क्वायर ब्लू मिनीमाइज आइकन पर टैप करके बिग बेन को छोटा कर सकते हैं। जब तक आप ऐप से बाहर नहीं निकलते हैं तब तक बिग बेन बजते रहेंगे।\n\n";
            helpText += "बोंगर को फिर से अधिकतम करने के लिए, बिग बेन अधिसूचना संदेश या बिग बेन आइकन टैप करें। फिर आप निचले दाएं कोने में लाल \"X\" आइकन का उपयोग करके ऐप से बाहर निकल सकते हैं। बिग बेन बोंगर को चुनने के लिए धन्यवाद।\n\n";
            helpText += "=======================\n";
            helpText += "अब उपलब्ध है:\nबिग बेन बोंगर  +++ प्लस +++\n\n";
            helpText += "अधिक घड़ी की आवाज़ ... पेंडुलम की ध्वनि ... 'शांत समय' ... ऑटो-स्टार्ट ... मैनुअल म्यूट\n\nइसे देखने के लिए हमारी वेबसाइट पर जाएँ:\nwww.BigBenBonger.com\n";
            helpText += "=======================\n\n";
            helpText += "ईश्वर ने रानी को बचाया...\n" + localStorage["language"] + "\n\numikeapps@outlook.com";
            helpTextTitle = "बिग बेन बोंगर के लिए आपका स्वागत है";
            helpDismissText = "खारिज";
            quitConfirmText = "क्या आप बिग बेन बोंगर से बाहर निकलना चाहते हैं?";
            backgroundNotificationText = "[पुनर्स्थापित करने के लिए यहां टैप करें]";
            optionsInText = "विकल्प >";
            optionsOutText = "< विकल्प";
            notificationTitle = "बिग बेन बोंगर बैकग्राउंड";

            newYearText = "नववर्ष की शुभकामनाएँ! अगर आप नए साल में रिंग करने के लिए इस ऐप का इस्तेमाल करने जा रहे हैं तो आपको बिग बेन के बॉंग्स की टाइमिंग के बारे में जानकारी होना जरूरी है।\n\n";
            newYearText += "हमारे सभी घड़ियों पर, वेस्टमिंस्टर झंकार बिल्कुल:15,: 30,: ४५ और: 00 पर बज शुरू हो जाएगा । हालांकि एक अपवाद है -- बिग बेन । ";
            newYearText += "प्रत्येक घंटे की शुरुआत में, बिग बेन वेस्टमिंस्टर झंकार (16 नोट घंटे हमलों से पहले खेला धुन) के बारे में 15 सेकंड जल्दी शुरू हो जाएगा । ";
            newYearText += "प्रत्येक घंटे वास्तव में तब शुरू होता है जब बिग बेन घंटों की गिनती शुरू करता है। इस तरह 1840 के दशक में घड़ी के लिए विशिष्टताओं को लिखा गया था, और यह तब से लंदन में इस तरह से बज रहा है।\n\n ";
            newYearText += "इसलिए अगर बिग बेन आपकी पसंद की घड़ी है, तो आधी रात को आपको झंकार सुनने की उम्मीद करनी चाहिए, और आधी रात की पहली हड़ताल नए साल की शुरुआत होगी। अन्य सभी घड़ियां आधी रात को ठीक से बजना शुरू हो जाएंगी। नववर्ष की शुभकामना!";
            newYearTextTitle = "वर्ष समाप्त हो रहा है";

            introText = "कृपया इसे पढ़ें। यह केवल एक बार प्रदर्शित किया जाएगा।\n\nबिग बेन बोंगर का प्रयास करने के लिए धन्यवाद। ";
            introText += "हालाँकि इस ऐप को इंस्टॉल करने वाले लगभग सभी लोगों ने इसे पूरी तरह से काम कर लिया है, लेकिन कुछ डिवाइस ऐसे हैं जिन्हें बैकग्राउंड मोड में बिग बेन को चलाने में समस्या हो सकती है। यह आमतौर पर डिवाइस की सेटिंग्स में कुछ बदलाव करके हल किया जा सकता है।\n\n";
            introText += "अगर बिग बेन पृष्ठभूमि में होने पर आपके लिए काम नहीं करता है, तो हमने अपनी वेबसाइट \"BigBenBonger.com\" पर कुछ समाधानों की रूपरेखा तैयार की है। मेन स्क्रीन पर एक लिंक है। मुझे उम्मीद है कि बिग बेन आपके लिए अच्छा काम करेंगे और आप ऐप का आनंद लेंगे।\n\nबिग बेन बोंगर को चुनने के लिए धन्यवाद। आपका डिवाइस Android " + device.version + " चला रहा है। ";
          }
          else if (localStorage["language"] == "vi")   {
            document.getElementById("setup_but").value = "LỰA CHỌN >";
            mantleClockText = "ĐỒNG HỒ NHỎ";
            grandfatherClockText = "ĐỒNG HỒ GRANDFATHER";
            magdaleneClockText = "MAGDALIN CHIMES";
            document.getElementById("bongDuringCall").innerHTML = "&nbsp;KÊU VANG TRÊN ĐIỆN THOẠI";
            document.getElementById("15_45_Label").innerHTML = "&nbsp;:15 &amp; :45 CHIMES";
            document.getElementById("Half_Label").innerHTML = "&nbsp;:30 CHIMES";
            document.getElementById("Hour_Label").innerHTML = "&nbsp;CHIMES TRÊN GIỜ";
            helpText = "Hãy để Big Ben V1.8 giúp bạn khi bạn không muốn quên thời gian. -- hoàn hảo khi đọc, làm việc, học tập hoặc thậm chí mua sắm -- một lời nhắc nhở tinh tế cứ sau 15 phút.\n\n";
            helpText += "Nhấn nút [LỰA CHỌN >] để điều chỉnh cài đặt. Cài đặt của bạn luôn được lưu.  Khi hoàn tất, chạm lại nút [< LỰA CHỌN].  Bạn có thể để Ben như thế này và anh ấy sẽ hiển thị thời gian và bấm giờ cho bạn cả ngày.\n\n";
            helpText += "Nhưng rất có thể bạn sẽ muốn làm những việc khác với điện thoại hoặc máy tính bảng của mình. Bạn có thể thu nhỏ Big Ben bằng cách nhấn vào Biểu tượng thu nhỏ màu xanh hình vuông ở cuối màn hình. Big Ben sẽ tiếp tục đổ chuông cho đến khi bạn thoát khỏi ứng dụng.\n\n";
            helpText += "Để tối đa hóa lại Bonger, hãy nhấn vào thông báo Big Ben hoặc biểu tượng Big Ben. Sau đó, bạn có thể thoát ứng dụng bằng Biểu tượng \"X\" màu đỏ ở góc dưới bên phải. Cảm ơn bạn đã chọn Big Ben Bonger.\n\n";
            helpText += "=======================\n";
            helpText += "Hiện tại có sẵn:\nBIG BEN BONGER ++PLUS++\n\n";
            helpText += "Âm thanh đồng hồ bổ sung ... Pendulum Âm thanh ... 'Thời Gian Tĩnh Lặng' ... Tự động bắt đầu ... Tắt tiếng bằng tay\n\nGhé thăm trang web của chúng tôi để xem nó trong hành động:\nwww.BigBenBonger.com/vi/\n";
            helpText += "=======================\n\n";
            helpText += "Chúa cứu nữ hoàng...\n" + localStorage["language"] + "\n\numikeapps@outlook.com";
            helpTextTitle = "Chào mừng đến với Big Ben Bonger";
            helpDismissText = "ĐÓNG";
            quitConfirmText = "Bạn có muốn thoát khỏi Big Ben Bonger?";
            backgroundNotificationText = "[Nhấn vào đây để khôi phục]";
            optionsInText = "LỰA CHỌN >";
            optionsOutText = "< LỰA CHỌN";
            notificationTitle = "Lý lịch Big Ben Bonger";

            newYearText = "CHÚC MỪNG NĂM MỚI! Nếu bạn chuẩn bị sử dụng ứng dụng này để đổ chuông vào năm mới, bạn cần lưu ý thời gian phát chuông của Big Ben.\n\n";
            newYearText += "Trên tất cả đồng hồ của chúng tôi, Chuông Westminster bắt đầu chính xác đúng giờ -- :15, :30, :45 và :00. Tuy nhiên có một ngoại lệ - Big Ben. ";
            newYearText += "Vào đầu mỗi giờ, Chuông Westminster của Big Ben (giai điệu 16 nốt được phát trước khi giờ kết thúc) sẽ bắt đầu sớm khoảng 15 giây. ";
            newYearText += "Mỗi giờ bắt đầu không phải khi Big Ben bắt đầu đổ chuông, mà là khi anh ấy bắt đầu đếm giờ. Đó là cách các thông số kỹ thuật của đồng hồ được viết vào những năm 1840, và nó đã vang lên ở London kể từ đó.\n\n ";
            newYearText += "Vì vậy, nếu Big Ben là đồng hồ của bạn lựa chọn, vào lúc nửa đêm, bạn nên mong đợi để nghe chuông sớm, và cuộc đình công đầu tiên của nửa đêm sẽ là sự khởi đầu của năm mới. Tất cả các đồng hồ khác sẽ bắt đầu đổ chuông vào chính xác nửa đêm. Chúc Mừng Năm Mới!";
            newYearTextTitle = "Năm Đang Kết Thúc";

            introText = "XIN VUI LÒNG ĐỌC NÀY. Nó sẽ chỉ được hiển thị một lần.\n\nCảm ơn bạn đã thử Big Ben Bonger. ";
            introText += "Mặc dù hầu hết mọi người đã cài đặt ứng dụng này đã có nó hoạt động hoàn hảo, có một vài thiết bị có thể gặp sự cố khi chạy Big Ben ở chế độ nền. Điều này thường có thể được giải quyết bằng cách thực hiện một vài thay đổi đối với Cài đặt của thiết bị.\n\n";
            introText += "Nếu Big Ben ngừng làm việc cho bạn khi chạy trong nền, chúng tôi đã phác thảo một số giải pháp trên trang web của chúng tôi \"BigBenBonger.com\". Có một liên kết trên Màn hình chính. Tôi hy vọng Big Ben hoạt động tốt cho bạn và bạn thích ứng dụng.\n\nCảm ơn bạn đã chọn Big Ben Bonger. Thiết bị của bạn đang chạy Android " + device.version + ".";
          }
          else   {
            document.getElementById("setup_but").value = "OPTIONS >";
            mantleClockText = "MANTLE CLOCK";
            grandfatherClockText = "GRANDFATHER CLOCK";
            magdaleneClockText = "MAGDALEN CHIMES";
            document.getElementById("bongDuringCall").innerHTML = "&nbsp;BONG DURING PHONECALLS";
            document.getElementById("15_45_Label").innerHTML = "&nbsp;:15 &amp; :45 CHIMES";
            document.getElementById("Half_Label").innerHTML = "&nbsp;HALF HOUR CHIMES";
            document.getElementById("Hour_Label").innerHTML = "&nbsp;ON-THE-HOUR STRIKES";
            helpText = "Let Big Ben V1.8 help you when you don't want to lose track of time -- perfect when reading, working, studying or even shopping -- a subtle reminder every 15 minutes.\n\n";
            helpText += "Tap the [OPTIONS >] button to adjust settings. Your settings are always saved.  When finished, tap the [< OPTIONS] button again.  You can leave Ben like this and he'll display the time and bong for you all day.\n\n";
            helpText += "But most likely you'll want to do other things with your phone or tablet. You can minimize Big Ben by tapping the square blue Minimize Icon at the bottom of the screen. Big Ben will continue to bong until you exit the app.\n\n";
            helpText += "To re-maximize the Bonger, tap the Big Ben notification message, or the Big Ben icon. You can then exit the app using the red \"X\" Icon in the bottom right corner. Thank you for choosing the Big Ben Bonger.\n\n";
            helpText += "=======================\n";
            helpText += "Now available:\nBIG BEN BONGER ++PLUS++\n\n";
            helpText += "More clock sounds ... Pendulum sound ... 'Quiet Time' ... Auto-start ... Manual mute\n\nVisit our website to see it in action:\nwww.BigBenBonger.com\n";
            helpText += "=======================\n\n";
            helpText += "God Save The Queen...\n" + localStorage["language"] + "\n\numikeapps@outlook.com";
            helpTextTitle = "Welcome to the Big Ben Bonger";
            helpDismissText = "DISMISS";
            quitConfirmText = "Do you want to exit Big Ben Bonger?";
            backgroundNotificationText = "[Tap HERE to Restore]";
            optionsInText = "OPTIONS >";
            optionsOutText = "< OPTIONS";
            notificationTitle = "Big Ben Bonger Background";

            newYearText = "HAPPY NEW YEAR! If you are going to use this app to ring in the new year, you need to be aware of the timing of Big Ben's bongs.\n\n";
            newYearText += "On all our clocks, the Westminster Chimes will begin exactly at :15, :30, :45 and on-the-hour. However there is one exception -- Big Ben. ";
            newYearText += "At the beginning of each hour, Big Ben's Westminster Chimes (the 16-note tune played before the hour strikes) will start about 15 seconds early. ";
            newYearText += "Each hour actually begins not when Big Ben starts chiming, but when he starts bonging the hours. That's how the specifications for the clock were written in the 1840's, and it's been bonging that way in London ever since.\n\n ";
            newYearText += "So if Big Ben is your clock of choice, at midnight you should expect to hear the chimes early, and the first strike of midnight will be the beginning of the new year. All other clocks will begin chiming at exactly midnight. Happy New Year!";
            newYearTextTitle = "The Year is Ending";

            introText = "PLEASE READ THIS. It will only be displayed once.\n\nThank you for trying Big Ben Bonger. ";
            introText += "Although almost everyone who has installed this app has had it work perfectly, there are a few devices that may have problems running Big Ben in background mode. This can usually be resolved by making a few changes to the device's Settings.\n\n";
            introText += "If Big Ben quits working for you when running in the background, we have outlined some solutions on our website \"BigBenBonger.com\". There's a link on the Main Screen. I hope Big Ben works well for you and that you enjoy the app.\n\nThank you for choosing the Big Ben Bonger. Your device is running Android " + device.version + ".";

          }

          cordova.plugins.backgroundMode.setDefaults({
            title: notificationTitle,
            text: backgroundNotificationText,
            resume: true,
            hidden: false
          });

//
//  Add Select options
//

          var x = document.getElementById("clocker");

          var b = document.createElement("option");
          if (localStorage["language"] == "ru")   {
            b.text = "БИГ БЕН";
          }
          else if (localStorage["language"] == "ar")   {
            b.text = "بج بن";
          }
          else if (localStorage["language"] == "hi")   {
            b.text = "बिग बेन";
          }
          else if (localStorage["language"] == "ja")   {
            b.text = "ビッグベン";
          }
          else   {
            b.text = "BIG BEN";
          }
          b.value = "bb";

          if ((localStorage["ding_selection"] != "bg") && (localStorage["ding_selection"] != "gf") && (localStorage["ding_selection"] != "mg"))  {
            b.selected = true;
          }

          x.options.add(b, 0);

          var c = document.createElement("option");
          c.text = mantleClockText;
          c.value = "bg";

          if (localStorage["ding_selection"] == "bg")   {
            c.selected = true;
          }

          x.options.add(c, 1);

          var d = document.createElement("option");
          d.text = grandfatherClockText;
          d.value = "gf";

          if (localStorage["ding_selection"] == "gf")   {
            d.selected = true;
          }

          x.options.add(d, 2);

          var e = document.createElement("option");
          e.text = magdaleneClockText;
          e.value = "mg";

          if (localStorage["ding_selection"] == "mg")   {
            e.selected = true;
          }

          x.options.add(e, 3);

          var dd = new Date();
          var mmonthh = dd.getMonth();
          var ddayy = dd.getDate();

          if (typeof localStorage["lastYear"] == 'undefined')   {
            localStorage["lastYear"] = "2019";
          }

          if (typeof localStorage["firstTime"] == 'undefined')   {
            localStorage["firstTime"] = "didIt";
            localStorage["lastYear"] = "2019";

            if ((mmonthh == 11 && ddayy == 31) || (mmonthh == 0 && ddayy == 1))   {
              introText += "\n\n" + newYearText;
              localStorage["lastYear"] = new Date().getFullYear();
              minerva = true;
            }

            navigator.notification.alert(
              introText,
              "",
              helpTextTitle,
              helpDismissText
            );
          }

          if (mmonthh == 11 && ddayy == 31)   {
            if (parseInt(localStorage["lastYear"]) < new Date().getFullYear())   {
              if (minerva == false)   {
                localStorage["lastYear"] = new Date().getFullYear();
                minerva = true;

                navigator.notification.alert(
                  newYearText,
                  "",
                  newYearTextTitle,
                  helpDismissText
                );
              }
            }
          }

        },
        ignoreError2() );

      }

      function changeClock()   {
        var xx = document.getElementById("clocker");
        var theValue = xx.options[xx.selectedIndex].value;
        localStorage["ding_selection"] = theValue;

//        alert("The value of your clock is " + theValue);

        doClockChange(theValue);

        QUARTER_DING = localStorage["ding_selection"] + "_quarter.mp3";
        HALF_DING  = localStorage["ding_selection"] + "_half.mp3";
        THREE_QUARTER_DING = localStorage["ding_selection"] + "_three-quarter.mp3";
        HOUR_DING = localStorage["ding_selection"] + "_hour.mp3";
        DING_SELECTION = localStorage["ding_selection"];
      }



      function ignoreError(err){
        ;
      }

      function ignoreError2(){
        ;
      }

      function goToWWW()   {
        var ref, t;
        document.getElementById('www_but').blur();

        permissions.checkPermission(permissions.INTERNET, function( status ){
          if (! status.hasPermission ) {
            permissions.requestPermission(permissions.INTERNET, function (s){
              alert("I think we got internet");
            });
          }
        });

        if ((localStorage["language"] == "pt") || (localStorage["language"] == "fr") || (localStorage["language"] == "de") ||
           (localStorage["language"] == "es") || (localStorage["language"] == "it") || (localStorage["language"] == "ar") ||
           (localStorage["language"] == "ja") || (localStorage["language"] == "ru") || (localStorage["language"] == "hi") ||
           (localStorage["language"] == "vi"))   {
          t = 'http://www.bigbenbonger.com/' + localStorage["language"] + '/index.html';
          ref = cordova.InAppBrowser.open(t, '_blank', 'location=yes');
        }
        else   {
          ref = cordova.InAppBrowser.open('https://www.bing.com/', '_blank', 'location=yes');
        }
      }


    </script>

  </body>

</html>
